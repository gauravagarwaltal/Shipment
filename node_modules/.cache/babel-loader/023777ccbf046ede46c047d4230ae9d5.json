{"ast":null,"code":"import _slicedToArray from \"/home/gaurava/work/learning/react/shipment/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/gaurava/work/learning/react/shipment/src/components/CreateTransaction.js\";\nimport React, { useState } from \"react\"; // import courseStore from \"../stores/courseStore\";\n// import { toast } from \"react-toastify\";\n// import * as courseActions from \"../actions/courseActions\";\n\nimport { GetChannelDetails } from \"../contract/contract_transaction\";\nimport ManageDetailsView from \"./ManageDetailsView\";\n\nconst CreateTransaction = props => {\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        errors = _useState2[0],\n        setErrors = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        channelId = _useState4[0],\n        setChannelId = _useState4[1];\n\n  const _useState5 = useState(\"\"),\n        _useState6 = _slicedToArray(_useState5, 2),\n        details = _useState6[0],\n        setDetails = _useState6[1];\n\n  const _React$useState = React.useState(localStorage.getItem(props.channelId + 'lastState') || {\n    channelId: \"\",\n    count: \"\",\n    AliceCash: \"\",\n    BobCash: \"\",\n    Signature: \"\"\n  }),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        lastState = _React$useState2[0],\n        setLastState = _React$useState2[1]; // const [course, setCourse] = useState({\n  //     channelId: \"\",\n  //     count: \"\",\n  //     AliceCash: \"\",\n  //     BobCash: \"\",\n  //     Signature: \"\"\n  // });\n\n\n  React.useEffect(() => {\n    localStorage.setItem(props.channelId + 'lastState', lastState);\n  }, [props.channelId, lastState]);\n\n  const onChange = event => setLastState(event.target.value);\n\n  const handleConfirmChannel = async event => {\n    event.preventDefault();\n    this.setState({\n      'channelIdError': \"\"\n    });\n    this.setState({\n      'amountError': \"\"\n    });\n\n    if (Number.isNaN(parseInt(this.state.channelId, 10))) {\n      this.setState({\n        'channelIdError': \"Enter Interger channel Id\"\n      });\n    } else if (Number.isNaN(parseInt(this.state.amount, 10))) {\n      this.setState({\n        'amountError': \"Enter Integer amount(in wei unit)\"\n      });\n    } else {// ChannelConfirm(this.state.channelId, this.state.amount)\n    }\n\n    this.setState({\n      'channelId': \"\"\n    });\n    this.setState({\n      'amount': \"\"\n    });\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"Channel Details\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"Hello React with Local Storage!\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, lastState)), React.createElement(\"form\", {\n    onSubmit: handleConfirmChannel,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"channelId\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, \"Channel Id\"), React.createElement(\"div\", {\n    className: \"field\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    id: \"channelId\",\n    type: \"text\" // onChange={event => onChange({ channelId: event.target.value })}\n    ,\n    name: \"channelId\",\n    className: \"form-control\",\n    value: channelId,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"amount\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \"Amount\"), React.createElement(\"div\", {\n    className: \"field\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    id: \"amount\",\n    type: \"text\",\n    onChange: onChange,\n    name: \"amount\",\n    className: \"form-control\",\n    value: errors,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }))), React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Deposit Amount\",\n    className: \"btn btn-primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }))));\n};\n\nexport default CreateTransaction;","map":{"version":3,"sources":["/home/gaurava/work/learning/react/shipment/src/components/CreateTransaction.js"],"names":["React","useState","GetChannelDetails","ManageDetailsView","CreateTransaction","props","errors","setErrors","channelId","setChannelId","details","setDetails","localStorage","getItem","count","AliceCash","BobCash","Signature","lastState","setLastState","useEffect","setItem","onChange","event","target","value","handleConfirmChannel","preventDefault","setState","Number","isNaN","parseInt","state","amount"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\n// import courseStore from \"../stores/courseStore\";\n// import { toast } from \"react-toastify\";\n// import * as courseActions from \"../actions/courseActions\";\nimport { GetChannelDetails } from \"../contract/contract_transaction\";\nimport ManageDetailsView from \"./ManageDetailsView\";\n\nconst CreateTransaction = props => {\n    const [errors, setErrors] = useState(false);\n    const [channelId, setChannelId] = useState(\"\");\n    const [details, setDetails] = useState(\"\");\n    const [lastState, setLastState] = React.useState(localStorage.getItem(props.channelId + 'lastState') || {\n        channelId: \"\",\n        count: \"\",\n        AliceCash: \"\",\n        BobCash: \"\",\n        Signature: \"\"\n    });\n    // const [course, setCourse] = useState({\n    //     channelId: \"\",\n    //     count: \"\",\n    //     AliceCash: \"\",\n    //     BobCash: \"\",\n    //     Signature: \"\"\n    // });\n    React.useEffect(() => {\n        localStorage.setItem(props.channelId + 'lastState', lastState);\n    }, [props.channelId, lastState]);\n    const onChange = event => setLastState(event.target.value);\n\n    const handleConfirmChannel = async (event) => {\n        event.preventDefault();\n        this.setState({ 'channelIdError': \"\" })\n        this.setState({ 'amountError': \"\" })\n        if (Number.isNaN(parseInt(this.state.channelId, 10))) {\n            this.setState({ 'channelIdError': \"Enter Interger channel Id\" })\n        }\n        else if (Number.isNaN(parseInt(this.state.amount, 10))) {\n            this.setState({ 'amountError': \"Enter Integer amount(in wei unit)\" })\n        }\n        else {\n            // ChannelConfirm(this.state.channelId, this.state.amount)\n        }\n        this.setState({ 'channelId': \"\" })\n        this.setState({ 'amount': \"\" })\n\n\n    }\n\n    return (\n        <div>\n            <h2>Channel Details</h2>\n            <div>\n                <div>\n                    <h1>Hello React with Local Storage!</h1>\n                    <p>{lastState}</p>\n                </div>\n                <form onSubmit={handleConfirmChannel}>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"channelId\">Channel Id</label>\n                        <div className=\"field\">\n                            <input\n                                id=\"channelId\"\n                                type=\"text\"\n                                // onChange={event => onChange({ channelId: event.target.value })}\n                                name=\"channelId\"\n                                className=\"form-control\"\n                                value={channelId}\n                            />\n                        </div>\n                        {/* {this.state.channelIdError && <div className=\"alert alert-danger\">{this.state.channelIdError}</div>} */}\n                    </div>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"amount\">Amount</label>\n                        <div className=\"field\">\n                            <input\n                                id=\"amount\"\n                                type=\"text\"\n                                onChange={onChange}\n                                name=\"amount\"\n                                className=\"form-control\"\n                                value={errors}\n                            />\n                        </div>\n                        {/* {this.state.amountError && <div className=\"alert alert-danger\">{this.state.amountError}</div>} */}\n                    </div>\n                    <input type=\"submit\" value=\"Deposit Amount\" className=\"btn btn-primary\" />\n                </form>\n\n\n\n                {/* <form onSubmit={handleSubmit}>\n                    <label htmlFor=\"channelId\">Channel Id</label>\n                    <input id=\"channelId\"\n                        className=\"form-control\"\n                        type=\"text\"\n                        placeholder=\"channel id(integer value)\" value={channelId}\n                        onChange={event => setChannelId(event.target.value)} required />\n                    <button>Get Channel Details</button>\n                </form>\n                {errors && (\n                    <div className=\"alert alert-danger\">{errors}</div>\n                )}\n                {(errors === '') && (\n                    <div className=\"alert alert-danger\">\n                        <h2>Channel Details of channel id -> {channelId}</h2>\n                        <ManageDetailsView details={details} />\n                    </div>\n                )} */}\n            </div>\n        </div>\n    );\n};\n\nexport default CreateTransaction;\n"]},"metadata":{},"sourceType":"module"}
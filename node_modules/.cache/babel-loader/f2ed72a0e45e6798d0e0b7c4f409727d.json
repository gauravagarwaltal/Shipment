{"ast":null,"code":"import _defineProperty from \"/home/gaurava/work/learning/react/shipment/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/home/gaurava/work/learning/react/shipment/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/gaurava/work/learning/react/shipment/src/components/ChannelDetailsPage.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from \"react\"; // import courseStore from \"../stores/courseStore\";\n\nimport { toast } from \"react-toastify\"; // import * as courseActions from \"../actions/courseActions\";\n\nimport { GetChannelDetails } from \"../contract/contract_transaction\";\n\nconst ChannelDetailsPage = props => {\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        errors = _useState2[0],\n        setErrors = _useState2[1];\n\n  const _useState3 = useState(-1),\n        _useState4 = _slicedToArray(_useState3, 2),\n        channelId = _useState4[0],\n        setChannelId = _useState4[1];\n\n  const _useState5 = useState(\"\"),\n        _useState6 = _slicedToArray(_useState5, 2),\n        details = _useState6[0],\n        setDetails = _useState6[1];\n\n  const _useState7 = useState({\n    id: null,\n    slug: \"\",\n    title: \"\",\n    authorId: null,\n    category: \"\"\n  }),\n        _useState8 = _slicedToArray(_useState7, 2),\n        course = _useState8[0],\n        setCourse = _useState8[1]; // useEffect(() => {\n  //     courseStore.addChangeListener(onChange);\n  //     const slug = props.match.params.slug; // from the path `/courses/:slug`\n  //     if (courses.length === 0) {\n  //         courseActions.loadCourses();\n  //     } else if (slug) {\n  //         setCourse(courseStore.getCourseBySlug(slug));\n  //     }\n  //     return () => courseStore.removeChangeListener(onChange);\n  // }, [courses.length, props.match.params.slug]);\n\n\n  function onChange() {\n    setCourses(courseStore.getCourses());\n  }\n\n  function handleChange({\n    target\n  }) {\n    setCourse(_objectSpread({}, course, {\n      [target.name]: target.value\n    }));\n  }\n\n  function formIsValid() {\n    const _errors = {};\n    if (!course.title) _errors.title = \"Title is required\";\n    if (!course.authorId) _errors.authorId = \"Author ID is required\";\n    if (!course.category) _errors.category = \"Category is required\";\n    setErrors(_errors); // Form is valid if the errors object has no properties\n\n    return Object.keys(_errors).length === 0;\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    if (!formIsValid()) return;\n    setDetails(GetChannelDetails(channelId));\n    console.log(\"after click \", details); // courseActions.saveCourse(course).then(() => {\n    //     props.history.push(\"/courses\");\n    //     toast.success(\"Course saved.\");\n    // });\n  } // <input\n  //     id={props.id}\n  //     type=\"text\"\n  //     onChange={props.onChange}\n  //     name={props.name}\n  //     className=\"form-control\"\n  //     value={props.value}\n  // />\n\n\n  return React.createElement(React.Fragment, null, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"Channel Details\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: this.handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"channelId\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"Channel Id\"), React.createElement(\"input\", {\n    id: \"channelId\",\n    className: \"form-control\",\n    type: \"text\",\n    placeholder: \"channel id(integer value)\",\n    value: channelId,\n    onChange: event => setChannelId(event.target.value),\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"Get Channel Details\")), errors && React.createElement(\"div\", {\n    className: \"alert alert-danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, props.errors.authorId)));\n};\n\nexport default ChannelDetailsPage;","map":{"version":3,"sources":["/home/gaurava/work/learning/react/shipment/src/components/ChannelDetailsPage.js"],"names":["React","useState","useEffect","toast","GetChannelDetails","ChannelDetailsPage","props","errors","setErrors","channelId","setChannelId","details","setDetails","id","slug","title","authorId","category","course","setCourse","onChange","setCourses","courseStore","getCourses","handleChange","target","name","value","formIsValid","_errors","Object","keys","length","handleSubmit","event","preventDefault","console","log"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\n// import courseStore from \"../stores/courseStore\";\nimport { toast } from \"react-toastify\";\n// import * as courseActions from \"../actions/courseActions\";\nimport { GetChannelDetails } from \"../contract/contract_transaction\";\n\nconst ChannelDetailsPage = props => {\n    const [errors, setErrors] = useState(false);\n    const [channelId, setChannelId] = useState(-1);\n    const [details, setDetails] = useState(\"\");\n    const [course, setCourse] = useState({\n        id: null,\n        slug: \"\",\n        title: \"\",\n        authorId: null,\n        category: \"\"\n    });\n\n    // useEffect(() => {\n    //     courseStore.addChangeListener(onChange);\n    //     const slug = props.match.params.slug; // from the path `/courses/:slug`\n    //     if (courses.length === 0) {\n    //         courseActions.loadCourses();\n    //     } else if (slug) {\n    //         setCourse(courseStore.getCourseBySlug(slug));\n    //     }\n    //     return () => courseStore.removeChangeListener(onChange);\n    // }, [courses.length, props.match.params.slug]);\n\n    function onChange() {\n        setCourses(courseStore.getCourses());\n    }\n\n    function handleChange({ target }) {\n        setCourse({\n            ...course,\n            [target.name]: target.value\n        });\n    }\n\n    function formIsValid() {\n        const _errors = {};\n\n        if (!course.title) _errors.title = \"Title is required\";\n        if (!course.authorId) _errors.authorId = \"Author ID is required\";\n        if (!course.category) _errors.category = \"Category is required\";\n\n        setErrors(_errors);\n        // Form is valid if the errors object has no properties\n        return Object.keys(_errors).length === 0;\n    }\n\n    function handleSubmit(event) {\n        event.preventDefault();\n        if (!formIsValid()) return;\n        setDetails(GetChannelDetails(channelId));\n        console.log(\"after click \", details)\n        // courseActions.saveCourse(course).then(() => {\n        //     props.history.push(\"/courses\");\n        //     toast.success(\"Course saved.\");\n        // });\n    }\n\n    // <input\n    //     id={props.id}\n    //     type=\"text\"\n    //     onChange={props.onChange}\n    //     name={props.name}\n    //     className=\"form-control\"\n    //     value={props.value}\n    // />\n\n    return (\n        <>\n            <h2>Channel Details</h2>\n            <div>\n                <form onSubmit={this.handleSubmit}>\n                    <label htmlFor=\"channelId\">Channel Id</label>\n                    <input id=\"channelId\"\n                        className=\"form-control\"\n                        type=\"text\"\n                        placeholder=\"channel id(integer value)\" value={channelId}\n                        onChange={event => setChannelId(event.target.value)} required />\n                    <button>Get Channel Details</button>\n                </form>\n                {errors && (\n                    <div className=\"alert alert-danger\">{props.errors.authorId}</div>\n                )}\n            </div>\n        </>\n    );\n};\n\nexport default ChannelDetailsPage;\n"]},"metadata":{},"sourceType":"module"}
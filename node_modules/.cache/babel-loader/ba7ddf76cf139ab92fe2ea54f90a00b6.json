{"ast":null,"code":"import _regeneratorRuntime from\"/home/gaurava/work/learning/react/shipment/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/gaurava/work/learning/react/shipment/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/gaurava/work/learning/react/shipment/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";// import courseStore from \"../stores/courseStore\";\n// import { toast } from \"react-toastify\";\n// import * as courseActions from \"../actions/courseActions\";\nimport{GetChannelDetails}from\"../contract/contract_transaction\";import ManageDetailsView from\"./ManageDetailsView\";import{fetchLastState}from\"../Api/FetchBrowserData\";import ChannelList from\"./ChannelList\";import FetchListeningAddr from\"../Api/FetchListeningAddr\";var ChannelDetailsPage=function ChannelDetailsPage(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),errors=_useState2[0],setErrors=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),channelId=_useState4[0],setChannelId=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),details=_useState6[0],setDetails=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),value=_useState8[0],setValue=_useState8[1];var _React$useState=React.useState(JSON.parse(localStorage.getItem(\"PayMentChannels\")||\"[]\")),_React$useState2=_slicedToArray(_React$useState,2),channels=_React$useState2[0],setChannels=_React$useState2[1];// const [course, setCourse] = useState({\n//     id: null,\n//     slug: \"\",\n//     title: \"\",\n//     authorId: null,\n//     category: \"\"\n// });\nfunction onChange(_x){return _onChange.apply(this,arguments);}function _onChange(){_onChange=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();// channels.push(value)\n// alert(channels)\n// localStorage.setItem('PayMentChannels', JSON.stringify(channels));\n_context.next=3;return FetchListeningAddr(value);case 3:case\"end\":return _context.stop();}}},_callee);}));return _onChange.apply(this,arguments);}var onValueChange=function onValueChange(event){return setValue(event.target.value);};function handleSubmit(_x2){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var _value;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();setErrors(\"\");if(!Number.isNaN(parseInt(channelId,10))){_context2.next=6;break;}setErrors(\"Enter Interger channel Id\");_context2.next=10;break;case 6:_context2.next=8;return GetChannelDetails(channelId);case 8:_value=_context2.sent;setDetails(_value);case 10:case\"end\":return _context2.stop();}}},_callee2);}));return _handleSubmit.apply(this,arguments);}var onOptionChange=function onOptionChange(event){return setChannelId(event.target.value);};return React.createElement(React.Fragment,null,React.createElement(\"h2\",null,\"Channel Details\"),React.createElement(\"div\",null,React.createElement(\"div\",null,React.createElement(\"h1\",null,\"Hello React with Local Storage!\"),React.createElement(\"form\",{onSubmit:onChange},React.createElement(\"input\",{value:value,type:\"text\",onChange:onValueChange}),React.createElement(\"p\",null,value),React.createElement(\"button\",null,\"Add Channel Id\")),React.createElement(\"p\",null,\"channel -> '\",channels,\"'\")),React.createElement(\"form\",{onSubmit:handleSubmit},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{htmlFor:\"channelId\"},\"Channel Id\"),React.createElement(\"div\",{className:\"field\"},React.createElement(ChannelList,{onChange:onOptionChange})),errors&&React.createElement(\"div\",{className:\"alert alert-danger\"},errors)),React.createElement(\"button\",null,\"Get Channel Details\")),errors===''&&React.createElement(\"div\",null,React.createElement(\"h2\",null,\"Channel Details of channel id -> \",channelId),React.createElement(ManageDetailsView,{details:details})),React.createElement(\"button\",{onClick:fetchLastState},\"Fetch Last State\")));};export default ChannelDetailsPage;","map":{"version":3,"sources":["/home/gaurava/work/learning/react/shipment/src/components/ChannelDetailsPage.js"],"names":["React","useState","GetChannelDetails","ManageDetailsView","fetchLastState","ChannelList","FetchListeningAddr","ChannelDetailsPage","props","errors","setErrors","channelId","setChannelId","details","setDetails","value","setValue","JSON","parse","localStorage","getItem","channels","setChannels","onChange","event","preventDefault","onValueChange","target","handleSubmit","Number","isNaN","parseInt","onOptionChange"],"mappings":"oXAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA;AACA;AACA;AACA,OAASC,iBAAT,KAAkC,kCAAlC,CACA,MAAOC,CAAAA,iBAAP,KAA8B,qBAA9B,CACA,OAASC,cAAT,KAA+B,yBAA/B,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,kBAAP,KAA+B,2BAA/B,CAEA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,KAAK,CAAI,eACJP,QAAQ,CAAC,KAAD,CADJ,wCACzBQ,MADyB,eACjBC,SADiB,8BAEET,QAAQ,CAAC,EAAD,CAFV,yCAEzBU,SAFyB,eAEdC,YAFc,8BAGFX,QAAQ,CAAC,EAAD,CAHN,yCAGzBY,OAHyB,eAGhBC,UAHgB,8BAINb,QAAQ,CAAC,EAAD,CAJF,yCAIzBc,KAJyB,eAIlBC,QAJkB,mCAKAhB,KAAK,CAACC,QAAN,CAAegB,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,iBAArB,GAA2C,IAAtD,CAAf,CALA,oDAKzBC,QALyB,qBAKfC,WALe,qBAMhC;AACA;AACA;AACA;AACA;AACA;AACA;AAZgC,QAcjBC,CAAAA,QAdiB,oIAchC,iBAAwBC,KAAxB,kHACIA,KAAK,CAACC,cAAN,GACA;AACA;AACA;AAJJ,sBAKUnB,CAAAA,kBAAkB,CAACS,KAAD,CAL5B,uDAdgC,2CAsBhC,GAAMW,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAAAF,KAAK,QAAIR,CAAAA,QAAQ,CAACQ,KAAK,CAACG,MAAN,CAAaZ,KAAd,CAAZ,EAA3B,CAtBgC,QAwBjBa,CAAAA,YAxBiB,iJAwBhC,kBAA4BJ,KAA5B,iIACIA,KAAK,CAACC,cAAN,GACAf,SAAS,CAAC,EAAD,CAAT,CAFJ,IAGQmB,MAAM,CAACC,KAAP,CAAaC,QAAQ,CAACpB,SAAD,CAAY,EAAZ,CAArB,CAHR,0BAIQD,SAAS,CAAC,2BAAD,CAAT,CAJR,sDAO0BR,CAAAA,iBAAiB,CAACS,SAAD,CAP3C,QAOYI,MAPZ,gBAQQD,UAAU,CAACC,MAAD,CAAV,CARR,yDAxBgC,+CAoChC,GAAMiB,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAAAR,KAAK,QAAIZ,CAAAA,YAAY,CAACY,KAAK,CAACG,MAAN,CAAaZ,KAAd,CAAhB,EAA5B,CACA,MACI,yCACI,gDADJ,CAEI,+BACI,+BACI,gEADJ,CAEI,4BAAM,QAAQ,CAAEQ,QAAhB,EACI,6BAAO,KAAK,CAAER,KAAd,CAAqB,IAAI,CAAC,MAA1B,CAAiC,QAAQ,CAAEW,aAA3C,EADJ,CAEI,6BAAIX,KAAJ,CAFJ,CAGI,mDAHJ,CAFJ,CAOI,4CAAgBM,QAAhB,KAPJ,CADJ,CAUI,4BAAM,QAAQ,CAAEO,YAAhB,EACI,2BAAK,SAAS,CAAC,YAAf,EACI,6BAAO,OAAO,CAAC,WAAf,eADJ,CAEI,2BAAK,SAAS,CAAC,OAAf,EACI,oBAAC,WAAD,EAAa,QAAQ,CAAEI,cAAvB,EADJ,CAFJ,CAKKvB,MAAM,EAAI,2BAAK,SAAS,CAAC,oBAAf,EAAqCA,MAArC,CALf,CADJ,CAQI,wDARJ,CAVJ,CAoBMA,MAAM,GAAK,EAAZ,EACG,+BACI,kEAAsCE,SAAtC,CADJ,CAEI,oBAAC,iBAAD,EAAmB,OAAO,CAAEE,OAA5B,EAFJ,CArBR,CA0BI,8BAAQ,OAAO,CAAET,cAAjB,qBA1BJ,CAFJ,CADJ,CAiCH,CAtED,CAwEA,cAAeG,CAAAA,kBAAf","sourcesContent":["import React, { useState } from \"react\";\n// import courseStore from \"../stores/courseStore\";\n// import { toast } from \"react-toastify\";\n// import * as courseActions from \"../actions/courseActions\";\nimport { GetChannelDetails } from \"../contract/contract_transaction\";\nimport ManageDetailsView from \"./ManageDetailsView\";\nimport { fetchLastState } from \"../Api/FetchBrowserData\";\nimport ChannelList from \"./ChannelList\";\nimport FetchListeningAddr from \"../Api/FetchListeningAddr\";\n\nconst ChannelDetailsPage = props => {\n    const [errors, setErrors] = useState(false);\n    const [channelId, setChannelId] = useState(\"\");\n    const [details, setDetails] = useState(\"\");\n    const [value, setValue] = useState(\"\");\n    const [channels, setChannels] = React.useState(JSON.parse(localStorage.getItem(\"PayMentChannels\") || \"[]\"));\n    // const [course, setCourse] = useState({\n    //     id: null,\n    //     slug: \"\",\n    //     title: \"\",\n    //     authorId: null,\n    //     category: \"\"\n    // });\n\n    async function onChange(event) {\n        event.preventDefault();\n        // channels.push(value)\n        // alert(channels)\n        // localStorage.setItem('PayMentChannels', JSON.stringify(channels));\n        await FetchListeningAddr(value)\n        // localStorage.removeItem('Tempchannels')\n    }\n    const onValueChange = event => setValue(event.target.value);\n\n    async function handleSubmit(event) {\n        event.preventDefault();\n        setErrors(\"\");\n        if (Number.isNaN(parseInt(channelId, 10))) {\n            setErrors(\"Enter Interger channel Id\")\n        }\n        else {\n            let value = await GetChannelDetails(channelId)\n            setDetails(value);\n        }\n    }\n\n    const onOptionChange = event => setChannelId(event.target.value)\n    return (\n        <>\n            <h2>Channel Details</h2>\n            <div>\n                <div>\n                    <h1>Hello React with Local Storage!</h1>\n                    <form onSubmit={onChange}>\n                        <input value={value} type=\"text\" onChange={onValueChange} />\n                        <p>{value}</p>\n                        <button >Add Channel Id</button>\n                    </form>\n                    <p>channel -> '{channels}'</p>\n                </div>\n                <form onSubmit={handleSubmit}>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"channelId\">Channel Id</label>\n                        <div className=\"field\">\n                            <ChannelList onChange={onOptionChange} />\n                        </div>\n                        {errors && <div className=\"alert alert-danger\">{errors}</div>}\n                    </div>\n                    <button>Get Channel Details</button>\n                </form>\n                {(errors === '') && (\n                    <div >\n                        <h2>Channel Details of channel id -> {channelId}</h2>\n                        <ManageDetailsView details={details} />\n                    </div>\n                )}\n                <button onClick={fetchLastState}>Fetch Last State</button>\n            </div>\n        </>\n    );\n};\n\nexport default ChannelDetailsPage;\n"]},"metadata":{},"sourceType":"module"}
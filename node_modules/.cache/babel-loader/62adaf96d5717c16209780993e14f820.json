{"ast":null,"code":"var _jsxFileName = \"/home/gaurava/work/learning/react/shipment/src/redisApi/PubSub.js\";\nimport React from 'react';\n\nclass EditFiles extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      posts: []\n    };\n  }\n\n  componentDidMount() {\n    var xhttp = new XMLHttpRequest();\n    var self = this;\n\n    xhttp.onreadystatechange = function (e) {\n      console.log(this);\n\n      if (xhttp.readyState === 4 && xhttp.status === 200) {\n        console.log(\"ok, response :\", this.response);\n        self.setState({\n          posts: JSON.parse(this.response)\n        });\n      }\n    };\n\n    xhttp.open(\"get\", \"http://127.0.0.1:6379/SUBSCRIBE/hello\", true);\n    xhttp.send();\n  }\n\n  render() {\n    let postsLoaded = this.state.posts.length > 0;\n    return postsLoaded ? React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, this.state.posts.map(post => {\n      return React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, post);\n    })) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, \"Loading...\");\n  }\n\n}\n\nexport default EditFiles;","map":{"version":3,"sources":["/home/gaurava/work/learning/react/shipment/src/redisApi/PubSub.js"],"names":["React","EditFiles","Component","constructor","props","state","posts","componentDidMount","xhttp","XMLHttpRequest","self","onreadystatechange","e","console","log","readyState","status","response","setState","JSON","parse","open","send","render","postsLoaded","length","map","post"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,SAAN,SAAwBD,KAAK,CAACE,SAA9B,CAAwC;AACpCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAE;AADE,KAAb;AAGH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChB,QAAIC,KAAK,GAAG,IAAIC,cAAJ,EAAZ;AACA,QAAIC,IAAI,GAAG,IAAX;;AAEAF,IAAAA,KAAK,CAACG,kBAAN,GAA2B,UAAUC,CAAV,EAAa;AACpCC,MAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;;AACA,UAAIN,KAAK,CAACO,UAAN,KAAqB,CAArB,IAA0BP,KAAK,CAACQ,MAAN,KAAiB,GAA/C,EAAoD;AAChDH,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8B,KAAKG,QAAnC;AACAP,QAAAA,IAAI,CAACQ,QAAL,CAAc;AACVZ,UAAAA,KAAK,EAAEa,IAAI,CAACC,KAAL,CAAW,KAAKH,QAAhB;AADG,SAAd;AAGH;AACJ,KARD;;AASAT,IAAAA,KAAK,CAACa,IAAN,CAAW,KAAX,EAAkB,uCAAlB,EAA2D,IAA3D;AACAb,IAAAA,KAAK,CAACc,IAAN;AACH;;AAEDC,EAAAA,MAAM,GAAG;AACL,QAAIC,WAAW,GAAG,KAAKnB,KAAL,CAAWC,KAAX,CAAiBmB,MAAjB,GAA0B,CAA5C;AACA,WACID,WAAW,GACP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEQ,KAAKnB,KAAL,CAAWC,KAAX,CAAiBoB,GAAjB,CACIC,IAAI,IAAI;AACJ,aAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKA,IAAL,CAAP;AACH,KAHL,CAFR,CADO,GAUP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAXR;AAaH;;AAxCmC;;AA2CxC,eAAe1B,SAAf","sourcesContent":["import React from 'react';\n\nclass EditFiles extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            posts: []\n        }\n    }\n\n    componentDidMount() {\n        var xhttp = new XMLHttpRequest();\n        var self = this;\n\n        xhttp.onreadystatechange = function (e) {\n            console.log(this);\n            if (xhttp.readyState === 4 && xhttp.status === 200) {\n                console.log(\"ok, response :\", this.response);\n                self.setState({\n                    posts: JSON.parse(this.response)\n                });\n            }\n        }\n        xhttp.open(\"get\", \"http://127.0.0.1:6379/SUBSCRIBE/hello\", true);\n        xhttp.send();\n    }\n\n    render() {\n        let postsLoaded = this.state.posts.length > 0;\n        return (\n            postsLoaded ?\n                <ul>\n                    {\n                        this.state.posts.map(\n                            post => {\n                                return <li>{post}</li>;\n                            })\n                    }\n                </ul>\n                :\n                <div>Loading...</div>\n        );\n    }\n}\n\nexport default EditFiles;"]},"metadata":{},"sourceType":"module"}